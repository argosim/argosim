package at.ac.univie.knasmueller.hulk;

import java.io.File;
import java.io.IOException;

import at.cibiv.ngs.tools.util.FileUtils;

public abstract class GenAmbEvent {

	private String name;
	private File seqIn;
	private File tempDir;
	private ILogger iLogger;

	public GenAmbEvent(String name, File seqIn, File tempDir, ILogger iLogger) {
		this.name = name;
		this.seqIn = seqIn;
		this.tempDir = tempDir;
		this.iLogger = iLogger;
	}

	public String getName() {
		return name;
	}

	public File getSeqIn() {
		return seqIn;
	}

	public File getTempDir() {
		return tempDir;
	}
	
	public void createLogEntry(String message) {
		iLogger.createLogEntry(message, getName());
	}

	public abstract Object processSequence() throws IOException;

	/**
	 * Create a temp file.
	 * 
	 * @return
	 */
	public File createTempFile() {
		String prefix = seqIn==null?"tmp":seqIn.getName();
		return FileUtils.createTempFile(tempDir, prefix);
	}

	@Override
	public String toString() {
		return "[EVT: " + getName() + "]";
	}

}
